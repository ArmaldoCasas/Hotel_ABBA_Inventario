{% extends "base.html" %} {% block title %} Agregar Item - Hotel ABBA 
{% endblock %} {% block content %}

<div class="container mt-4">
  <h2 class="mb-4">Agregar Nuevo Producto</h2>
  <form method="post">
    {% csrf_token %}

    <div class="row g-3">
      <!-- Render standard fields manually to control layout -->
      <div class="col-md-6">
        <label
          for="{{ formulario_productos.nombre.id_for_label }}"
          class="form-label"
          >Nombre</label
        >
        {{ formulario_productos.nombre }} {% if formulario_productos.nombre.errors %}
        <div class="text-danger small">
          {{ formulario_productos.nombre.errors }}
        </div>
        {% endif %}
      </div>
      <div class="col-md-3">
        <label
          for="{{ formulario_productos.contenido.id_for_label }}"
          class="form-label"
          >Contenido</label
        >
        {{ formulario_productos.contenido }}
      </div>
      <div class="col-md-3">
        <label
          for="{{ formulario_productos.unidad.id_for_label }}"
          class="form-label"
          >Unidad</label
        >
        {{ formulario_productos.unidad }}
      </div>

      <div class="col-md-4">
        <label
          for="{{ formulario_productos.precio.id_for_label }}"
          class="form-label"
          >Precio</label
        >
        {{ formulario_productos.precio }}
      </div>
      <div class="col-md-4">
        <label
          for="{{ formulario_productos.umbral.id_for_label }}"
          class="form-label"
          >Umbral</label
        >
        {{ formulario_productos.umbral }}
      </div>
      <div class="col-md-4">
        <label
          for="{{ formulario_productos.stock.id_for_label }}"
          class="form-label"
          >Stock Inicial</label
        >
        {{ formulario_productos.stock }}
      </div>

      <div class="col-md-6">
        <label
          for="{{ formulario_productos.categoria.id_for_label }}"
          class="form-label"
          >Categoría</label
        >
        {{ formulario_productos.categoria }}
      </div>
      <div class="col-md-6">
        <label
          for="{{ formulario_productos.ubicacion.id_for_label }}"
          class="form-label"
          >Ubicación</label
        >
        {{ formulario_productos.ubicacion }}
      </div>

      <!-- Custom Provider Selection -->
      <div class="col-12">
        <label class="form-label">Proveedores</label>
        <details>
          <summary class="form-select">Seleccionar proveedores...</summary>
          <div
            class="card card-body mt-1"
            style="max-height: 200px; overflow-y: auto"
          >
            {{ formulario_productos.proveedores_seleccionados }}
          </div>
        </details>
        {% if formulario_productos.proveedores_seleccionados.errors %}
        <div class="text-danger small mt-1">
          {{ formulario_productos.proveedores_seleccionados.errors }}
        </div>
        {% endif %}
      </div>
    </div>

    <div class="mt-4">
      <button type="submit" class="btn btn-primary">Guardar Producto</button>
      <a href="{% url 'listado_productos' %}" class="btn btn-secondary"
        >Volver</a
      >
    </div>
  </form>
</div>
{% endblock %}
